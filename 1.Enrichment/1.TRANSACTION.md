## We will send you a webhook notification (HTTP POST) in the following format:

```jsonc
{
    "event": "transaction",
    "payload": {
        "contractDisputeId": "d492bhhnshts7160i5g0", // Tupi Internal ID
        "transactionIdentifier": "431220079801", // TID (can be null)
        "acquirerReferenceNumber": "20099984311312200798013" // ARN (can be null)
    }
}
```

> **Important:** Either `transactionIdentifier` (TID) or `acquirerReferenceNumber` (ARN) will always be provided, though one of them may be null depending on the card brand. **You must use whichever identifier is available** to look up the transaction in your system.

## You must then send us an HTTP POST request to the callback URL provided during setup (contact us if youâ€™re unsure which endpoint to use).

```jsonc
{
    "type": "transaction",
    "data": {
        "authorizationCode": "135644",
        "authorizationStatusCode": "00",
        "authorizationCurrencyCode": "986", // ISO 4217
        "authorizationSequentialNumber": "123456789",
        "authorizationDate": "2025-01-01T00:00:00.000Z",
        "authorizationAmount": 10000,// in cents = 100.00
 
        "acquirerReferenceNumber": "25699994259255249310221", // ARN
        "transactionIdentifier": "405088518881", // TID
        "terminalIdentifier": "00281236",
        "cardNumber": "50677*****6581" , // masked: keep first 6 digits and last 4 digits
        "paymentPlan" 1, // int

        // tip: same as sent by the brand
        "entryMode": "5",
        "electronicCommerceIndicator": "05", // ECI

        "installments": [
            {
                "acquirerReferenceNumber": "25699994259255249310222", // ARN
                "installmentNumber": 1, // int
                "installmentDate": "2025-01-01T00:00:00.000Z",
                "amount": 10000, // in cents = 100.00

				// enum: settled | scheduled | canceled | confirmed | sent
                "issuerSettlementStatus": "settled",
				
				// enum: settled | scheduled | canceled
                "merchantSettlementStatus": "settled"
            }
        ],
        "vouchers": [
            {
                "acquirerReferenceNumber": "25699994259255249310223", // ARN
                "amount": 100, // in cents = 1.00
                "voucherDate": "2025-01-01T00:00:00.000Z",
                "installmentNumber": 1
            }
        ]
    }
}
```